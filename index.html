<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>flashback</title>
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      body {
        min-height: 100vh;
        min-width: 100vw;
        width: 100vw;
        height: 100vh;
        background: #e6f7e6;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
      }
      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        background-image: linear-gradient(
            to right,
            #d2e6d2 1px,
            transparent 1px
          ),
          linear-gradient(to bottom, #d2e6d2 1px, transparent 1px);
        background-size: 40px 40px;
        opacity: 0.35;
        z-index: 0;
      }
    </style>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="firebase-config.js"></script>
  </head>
  <body>
    <script>
      // On load, check if user is logged in; if so, redirect to map.html
      document.addEventListener('DOMContentLoaded', function () {
        if (window.firebase && firebase.auth) {
          firebase.auth().onAuthStateChanged(function (user) {
            if (user) {
              window.location.href = 'map.html';
            }
          });
        }
      });
    </script>
    <div
      style="
        position: relative;
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      "
    >
      <img
        src="landing.png"
        alt="landing splash"
        style="
          max-width: 100vw;
          max-height: 100vh;
          width: 100vw;
          height: 100vh;
          object-fit: contain;
          display: block;
          margin: 0 auto;
          background: transparent;
          border-radius: 0;
          box-shadow: none;
        "
      />
      <a
        href="login.html"
        style="
          position: absolute;
          left: calc(22vw + 1.3cm);
          top: 39vh;
          transform: translateY(60px); /* centered in green box, nudged right */
          background: #e6f7e6;
          border: 2.5px solid #f89090;
          border-radius: 18px;
          font-family: 'Just Me Again Down Here', cursive;
          color: #f89090;
          font-size: 1.5em;
          padding: 0.45em 2.2em 0.45em 2.2em;
          box-shadow: 0 4px 16px 0 #f8909022;
          text-decoration: none;
          letter-spacing: 1px;
          cursor: pointer;
          z-index: 20;
          transition: background 0.18s, box-shadow 0.18s, transform 0.1s;
        "
        onmouseover="this.style.background='#fdf6e3';this.style.transform='translateY(55px) scale(1.04)';"
        onmouseout="this.style.background='#e6f7e6';this.style.transform='translateY(60px)';"
        >join</a
      >
    </div>
  </body>
</html>
